<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Personal Homepage</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
        }

        #header {
            background-color: #f8f8f8;
            padding: 10px;
            text-align: center;
            font-size: 24px;
        }

        #container {
            display: flex;
        }

        #nav {
            width: 200px;
            border-right: 1px solid #ccc;
            padding: 10px;
        }

        #nav a {
            display: block;
            padding: 10px;
            text-decoration: none;
            color: black;
        }

        #nav a:hover {
            background-color: #eee;
        }

        #content {
            flex-grow: 1;
            padding: 10px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        th, td {
            border: 1px solid #dddddd;
            text-align: left;
            padding: 8px;
        }

        th {
            background-color: #f2f2f2;
        }

        tr:hover {
            background-color: #f5f5f5;
        }

        a {
            color: #3498db;
            text-decoration: none;
        }

        a:hover {
            text-decoration: underline;
        }

    </style>
    <script th:inline="javascript">
        /*<![CDATA[*/
        let userHistoryData = /*[[${userHistory}]]*/ [];
        let userLiked = /*[[${userLiked}]]*/ [];
        /*]]>*/
    </script>


</head>

<body>
<div id="header">My Personal Homepage</div>
<div id="container">
    <div id="nav">
        <a href="#" onclick="showContent('History')">History</a>
        <a href="#" onclick="showContent('Liked')">Liked</a>
        <a href="#" onclick="showContent('PHD Report')">PHD Report</a>
        <a href="/" onclick="showContent('PHD Report')">Home</a>
    </div>
    <div id="content">
        <!-- Default content or empty -->
    </div>
</div>

<script>
    function showContent(contentType) {
        const contentDiv = document.getElementById('content');

        switch (contentType) {
            case 'History':
                let historyHtml = '<h2>History</h2>';

                if (userHistoryData.length === 0) {
                    historyHtml += '<p>No such Recordings</p>';
                } else {
                    historyHtml += '<table><tr><th>Web ID</th><th>Link</th><th>Time</th></tr>';
                    for (let record of userHistoryData) {
                        let webId = record.webId;
                        let link = record.link;
                        let time = record.time;
                        historyHtml += `<tr><td>${webId}</td><td><a href="${link}">${link}</a></td><td>${time}</td></tr>`;
                    }
                    historyHtml += '</table>';
                }

                contentDiv.innerHTML = historyHtml;
                break;

            case 'Liked':
                let likedHtml = '<h2>Liked</h2>';

                if (userLiked.length === 0) {
                    likedHtml += '<p>No such Recordings</p>';
                } else {
                    likedHtml += '<table><tr><th>Web ID</th><th>Link</th></tr>';
                    for (let record of userLiked) {
                        let webIdLink = record.split('-');
                        let webId = webIdLink[0];
                        let link = webIdLink[1];
                        likedHtml += `<tr><td>${webId}</td><td><a href="${link}">${link}</a></td></tr>`;
                    }
                    likedHtml += '</table>';
                }

                contentDiv.innerHTML = likedHtml;
                break;

            case 'PHD Report':
                contentDiv.innerHTML = `
            <h2>PHD Report</h2>
            <p>Your PHD report preview:</p>

            <embed src="/test.pdf" type="application/pdf" width="100%" height="500px" />

            <p>
                <a href="/test.pdf" download="PHD_Report.pdf">Download the report</a>
            </p>
        `;
                break;

            default:
                contentDiv.innerHTML = '';
        }
    }
</script>


</body>

</html>
